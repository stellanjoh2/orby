<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0"
    />
    <title>MeshGL — model.glb</title>
    <link
      rel="icon"
      type="image/svg+xml"
      href="./assets/icons/favicon.svg"
    />
    <link
      rel="preconnect"
      href="https://fonts.googleapis.com"
    />
    <link
      rel="preconnect"
      href="https://fonts.gstatic.com"
      crossorigin
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <div id="app">
      <main class="workspace">
        <section class="viewport">
          <canvas id="webgl" tabindex="0"></canvas>
          <div class="dropzone" id="dropzone">
            <img
              src="./assets/icons/meshgl-logo.svg"
              alt="MeshGL mark"
              width="60"
              height="60"
            />
            <p class="drop-primary">Drop your model into MeshGL</p>
            <p class="drop-secondary">Supports .glb, .gltf, .obj, .fbx</p>
            <button id="browseButton" class="primary-btn">
              Browse Files
            </button>
          </div>
          <input
            type="file"
            id="fileInput"
            class="sr-only"
            accept=".glb,.gltf,.obj,.fbx,.stl,.usd,.usdz"
          />
        </section>

        <aside class="shelf" id="shelf">
          <nav class="tabs" role="tablist" aria-label="MeshGL Panels">
            <button class="tab active" data-tab="mesh" aria-selected="true">
              Mesh
            </button>
            <button class="tab" data-tab="studio" aria-selected="false">
              Studio
            </button>
            <button class="tab" data-tab="render" aria-selected="false">
              Render
            </button>
          </nav>

          <div class="panels">
            <section class="panel visible" data-panel="mesh">
              <div class="panel-header">
                <h2>MESH</h2>
                <p>Model · Stats · Animation · Camera</p>
              </div>

              <div class="panel-block">
                <div class="block-title">Display</div>
                <div class="segmented" role="group">
                  <label>
                    <input
                      type="radio"
                      name="shading"
                      value="shaded"
                      checked
                    />
                    Shaded
                  </label>
                  <label>
                    <input type="radio" name="shading" value="wireframe" />
                    Wireframe
                  </label>
                  <label>
                    <input type="radio" name="shading" value="clay" />
                    Clay
                  </label>
                  <label>
                    <input type="radio" name="shading" value="textures" />
                    Unlit
                  </label>
                </div>
              </div>

              <div class="panel-block">
                <div class="block-title">Clay Settings</div>
                <label class="color-line">
                  <span>Clay Color</span>
                  <input
                    type="color"
                    id="clayColor"
                    class="color-chip"
                    value="#d8d9e0"
                  />
                </label>
                <label class="slider-line">
                  <span>Roughness</span>
                  <input
                    id="clayRoughness"
                    type="range"
                    min="0"
                    max="1"
                    step="0.01"
                    value="0.6"
                  />
                  <span class="value" data-output="clayRoughness">0.60</span>
                </label>
                <label class="slider-line">
                  <span>Specular</span>
                  <input
                    id="claySpecular"
                    type="range"
                    min="0"
                    max="1"
                    step="0.01"
                    value="0.08"
                  />
                  <span class="value" data-output="claySpecular">0.08</span>
                </label>
              </div>

              <div class="panel-block">
                <div class="block-title">Transform</div>
                <label class="slider-line">
                  <span>Scale</span>
                  <input
                    id="scaleControl"
                    type="range"
                    min="0.1"
                    max="4"
                    value="1"
                    step="0.01"
                  />
                  <span class="value" data-output="scale">1.00×</span>
                </label>
                <label class="slider-line">
                  <span>Y Offset</span>
                  <input
                    id="yOffsetControl"
                    type="range"
                    min="-2"
                    max="2"
                    value="0"
                    step="0.01"
                  />
                  <span class="value" data-output="yOffset">0.00m</span>
                </label>
                <div class="control-row">
                  <button id="transformReset" class="ghost-btn small">
                    Reset
                  </button>
                  <button id="reloadMesh" class="ghost-btn small">
                    Reload Mesh
                  </button>
                </div>
              </div>

              <div class="panel-block">
                <div class="block-title">Auto-Rotate</div>
                <div class="segmented compact">
                  <label>
                    <input type="radio" name="autorotate" value="0" checked />
                    Off
                  </label>
                  <label>
                    <input type="radio" name="autorotate" value="0.2" />
                    Slow
                  </label>
                  <label>
                    <input type="radio" name="autorotate" value="0.5" />
                    Normal
                  </label>
                  <label>
                    <input type="radio" name="autorotate" value="1" />
                    Fast
                  </label>
                </div>
              </div>

              <div class="panel-block stats-block">
                <div class="block-title">Mesh Info (Live)</div>
                <dl id="meshStats">
                  <div><dt>Triangles</dt><dd>—</dd></div>
                  <div><dt>Vertices</dt><dd>—</dd></div>
                  <div><dt>Materials</dt><dd>—</dd></div>
                  <div><dt>Textures</dt><dd>—</dd></div>
                  <div><dt>File Size</dt><dd>—</dd></div>
                  <div><dt>Bounds</dt><dd>—</dd></div>
                </dl>
              </div>

              <div class="panel-block" id="animationBlock">
                <div class="block-title">Animation</div>
                <div class="animation-controls">
                  <button id="playPause" class="primary-btn small" disabled>
                    Play
                  </button>
                  <input
                    type="range"
                    id="animationScrub"
                    min="0"
                    max="1"
                    step="0.001"
                    value="0"
                    disabled
                  />
                </div>
                <div class="select-line">
                  <label for="animationSelect">Clip</label>
                  <select id="animationSelect" disabled></select>
                  <span id="animationTime">0:00</span>
                </div>
              </div>

            </section>

            <section class="panel" data-panel="studio">
              <div class="panel-header">
                <h2>STUDIO</h2>
                <p>HDRI · Lighting · Ground</p>
              </div>

              <div class="panel-block">
                <div class="block-title">HDRI Presets</div>
                <label class="toggle-line">
                  <input type="checkbox" id="hdriEnabled" checked />
                  <span>Enable HDRI Lighting</span>
                </label>
                <label class="slider-line">
                  <span>HDRI Strength</span>
                  <input
                    id="hdriStrength"
                    type="range"
                    min="0"
                    max="3"
                    value="1"
                    step="0.05"
                  />
                  <span class="value" data-output="hdriStrength">1.00</span>
                </label>
                <div class="hdri-grid" id="hdriGrid">
                  <button data-hdri="noir-studio" class="hdri-card active">
                    Noir Studio
                  </button>
                  <button data-hdri="luminous-sky" class="hdri-card">
                    Luminous Sky
                  </button>
                  <button data-hdri="sunset-cove" class="hdri-card">
                    Sunset Cove
                  </button>
                  <button data-hdri="steel-lab" class="hdri-card">
                    Steel Lab
                  </button>
                  <button data-hdri="cyberpunk" class="hdri-card">
                    Cyberpunk
                  </button>
                </div>
                <label class="toggle-line">
                  <input type="checkbox" id="hdriBackground" />
                  <span>Show in Background</span>
                </label>
              </div>

              <div class="panel-block lights">
                <div class="block-title">3-Point Lighting</div>
                <div class="light-control" data-light="key">
                  <div class="light-label">Key</div>
                  <input type="color" class="color-chip" value="#ffdfc9" />
                  <input type="range" min="0" max="5" step="0.1" value="1.28" />
                  <span class="value">1.28</span>
                </div>
                <div class="light-control" data-light="fill">
                  <div class="light-label">Fill</div>
                  <input type="color" class="color-chip" value="#b0c7ff" />
                  <input type="range" min="0" max="5" step="0.1" value="0.8" />
                  <span class="value">0.8</span>
                </div>
                <div class="light-control" data-light="rim">
                  <div class="light-label">Rim</div>
                  <input type="color" class="color-chip" value="#a0eaf9" />
                  <input type="range" min="0" max="5" step="0.1" value="0.96" />
                  <span class="value">0.96</span>
                </div>
                <div class="light-control" data-light="ambient">
                  <div class="light-label">Ambient</div>
                  <input type="color" class="color-chip" value="#7c8ca6" />
                  <input type="range" min="0" max="2" step="0.1" value="0.48" />
                  <span class="value">0.48</span>
                </div>
              </div>

              <div class="panel-block">
                <div class="block-title">Podium</div>
                <label class="toggle-line">
                  <input type="checkbox" id="groundSolid" />
                  <span>Solid Plane (shadow catcher)</span>
                </label>
                <label class="color-line">
                  <span>Solid Color</span>
                  <input
                    type="color"
                    id="groundSolidColor"
                    class="color-chip"
                    value="#31363f"
                  />
                </label>
                <label class="toggle-line">
                  <input type="checkbox" id="groundWire" />
                  <span>Wireframe Grid</span>
                </label>
                <label class="color-line">
                  <span>Wireframe Color</span>
                  <input
                    type="color"
                    id="groundWireColor"
                    class="color-chip"
                    value="#c4cadd"
                  />
                </label>
                <label class="slider-line">
                  <span>Wireframe Opacity</span>
                  <input
                    id="groundWireOpacity"
                    type="range"
                    min="0"
                    max="1"
                    value="0.45"
                    step="0.01"
                  />
                  <span class="value" data-output="groundWireOpacity">0.45</span>
                </label>
                <label class="color-line">
                  <span>Background</span>
                  <input
                    type="color"
                    id="backgroundColor"
                    class="color-chip"
                    value="#000000"
                  />
                </label>
              </div>

              <div class="panel-block copy-block">
                <button id="copyStudioSettings" class="ghost-btn">
                  Copy Studio Settings
                </button>
              </div>
            </section>

            <section class="panel" data-panel="render">
              <div class="panel-header">
                <h2>RENDER</h2>
                <p>Post · Fog · Export</p>
              </div>

              <div class="panel-block">
                <div class="block-title has-toggle">
                  <span>Depth of Field</span>
                  <label class="effect-toggle">
                    <input type="checkbox" id="toggleDof" />
                    <span class="effect-indicator" aria-hidden="true"></span>
                    <span class="sr-only">Enable Depth of Field</span>
                  </label>
                </div>
                <label class="slider-line">
                  <span>Focus</span>
                  <input
                    id="dofFocus"
                    type="range"
                    min="0.1"
                    max="100"
                    value="10"
                    step="0.1"
                  />
                  <span class="value" data-output="dofFocus">10.0m</span>
                </label>
                <label class="slider-line">
                  <span>Aperture</span>
                  <input
                    id="dofAperture"
                    type="range"
                    min="0.0001"
                    max="0.02"
                    value="0.003"
                    step="0.0001"
                  />
                  <span class="value" data-output="dofAperture">0.003</span>
                </label>
                <label class="slider-line">
                  <span>Strength</span>
                  <input
                    id="dofStrength"
                    type="range"
                    min="0"
                    max="1"
                    value="0"
                    step="0.01"
                  />
                  <span class="value" data-output="dofStrength">0.00</span>
                </label>
              </div>

              <div class="panel-block">
                <div class="block-title has-toggle">
                  <span>Unreal Bloom</span>
                  <label class="effect-toggle">
                    <input type="checkbox" id="toggleBloom" checked />
                    <span class="effect-indicator" aria-hidden="true"></span>
                    <span class="sr-only">Enable Bloom</span>
                  </label>
                </div>
                <label class="slider-line">
                  <span>Threshold</span>
                  <input
                    id="bloomThreshold"
                    type="range"
                    min="0"
                    max="1"
                    value="1"
                    step="0.01"
                  />
                  <span class="value" data-output="bloomThreshold">1.00</span>
                </label>
                <label class="slider-line">
                  <span>Strength</span>
                  <input
                    id="bloomStrength"
                    type="range"
                    min="0"
                    max="2"
                    value="0.49"
                    step="0.01"
                  />
                  <span class="value" data-output="bloomStrength">0.49</span>
                </label>
                <label class="slider-line">
                  <span>Radius</span>
                  <input
                    id="bloomRadius"
                    type="range"
                    min="0"
                    max="1"
                    value="0.94"
                    step="0.01"
                  />
                  <span class="value" data-output="bloomRadius">0.94</span>
                </label>
              </div>

              <div class="panel-block">
                <div class="block-title has-toggle">
                  <span>Film Grain</span>
                  <label class="effect-toggle">
                    <input type="checkbox" id="toggleGrain" checked />
                    <span class="effect-indicator" aria-hidden="true"></span>
                    <span class="sr-only">Enable Film Grain</span>
                  </label>
                </div>
                <label class="slider-line">
                  <span>Strength</span>
                  <input
                    id="grainIntensity"
                    type="range"
                    min="0"
                    max="1"
                    value="0.33"
                    step="0.02"
                  />
                  <span class="value" data-output="grainIntensity">0.33</span>
                </label>
              </div>

              <div class="panel-block">
                <div class="block-title has-toggle">
                  <span>Chromatic Aberration</span>
                  <label class="effect-toggle">
                    <input type="checkbox" id="toggleAberration" checked />
                    <span class="effect-indicator" aria-hidden="true"></span>
                    <span class="sr-only">Enable Chromatic Aberration</span>
                  </label>
                </div>
                <label class="slider-line">
                  <span>Offset</span>
                  <input
                    id="aberrationOffset"
                    type="range"
                    min="0"
                    max="0.02"
                    value="0.0025"
                    step="0.0001"
                  />
                  <span class="value" data-output="aberrationOffset">0.003</span>
                </label>
                <label class="slider-line">
                  <span>Strength</span>
                  <input
                    id="aberrationStrength"
                    type="range"
                    min="0"
                    max="1"
                    value="0.24"
                    step="0.01"
                  />
                  <span class="value" data-output="aberrationStrength">
                    0.24
                  </span>
                </label>
              </div>

              <div class="panel-block">
                <div class="block-title has-toggle">
                  <span>Fresnel</span>
                  <label class="effect-toggle">
                    <input type="checkbox" id="toggleFresnel" />
                    <span class="effect-indicator" aria-hidden="true"></span>
                    <span class="sr-only">Enable Fresnel</span>
                  </label>
                </div>
                <label class="color-line">
                  <span>Color</span>
                  <input
                    type="color"
                    id="fresnelColor"
                    class="color-chip"
                    value="#ffffff"
                  />
                </label>
                <label class="slider-line">
                  <span>Radius</span>
                  <input
                    id="fresnelRadius"
                    type="range"
                    min="0.5"
                    max="5"
                    step="0.1"
                    value="2"
                  />
                  <span class="value" data-output="fresnelRadius">2.0</span>
                </label>
                <label class="slider-line">
                  <span>Strength</span>
                  <input
                    id="fresnelStrength"
                    type="range"
                    min="0"
                    max="1"
                    step="0.01"
                    value="0.3"
                  />
                  <span class="value" data-output="fresnelStrength">0.30</span>
                </label>
              </div>

              <div class="panel-block">
                <div class="block-title">Fog</div>
                <div class="select-line">
                  <label for="fogType">Type</label>
                  <select id="fogType">
                    <option value="none">None</option>
                    <option value="linear" selected>Linear</option>
                    <option value="exp">Exp</option>
                    <option value="exp2">Exp²</option>
                  </select>
                </div>
                <label class="color-line">
                  <span>Color</span>
                  <input
                    type="color"
                    id="fogColor"
                    class="color-chip"
                    value="#10121a"
                  />
                </label>
                <label class="slider-line">
                  <span>Near</span>
                  <input
                    id="fogNear"
                    type="range"
                    min="0.1"
                    max="200"
                    value="85.8"
                    step="0.1"
                  />
                  <span class="value" data-output="fogNear">85.8m</span>
                </label>
                <label class="slider-line">
                  <span>Density</span>
                  <input
                    id="fogDensity"
                    type="range"
                    min="0"
                    max="1"
                    value="0.462"
                    step="0.001"
                  />
                  <span class="value" data-output="fogDensity">0.462</span>
                </label>
              </div>

              <div class="panel-block">
                <div class="block-title">Camera & Exposure</div>
                <label class="slider-line">
                  <span>FOV</span>
                  <input
                    id="cameraFov"
                    type="range"
                    min="45"
                    max="120"
                    value="60"
                    step="1"
                  />
                  <span class="value" data-output="cameraFov">60°</span>
                </label>
                <label class="slider-line">
                  <span>Exposure</span>
                  <input
                    id="exposure"
                    type="range"
                    min="0"
                    max="3"
                    value="1"
                    step="0.01"
                  />
                  <span class="value" data-output="exposure">1.00</span>
                </label>
              </div>

              <div class="panel-block export-block">
                <button id="exportPng" class="primary-btn">
                  Export 2× PNG
                </button>
              </div>

              <div class="panel-block copy-block">
                <button id="copyRenderSettings" class="ghost-btn">
                  Copy Render Settings
                </button>
              </div>
            </section>
          </div>
        </aside>
      </main>
    </div>

    <template id="toastTemplate">
      <div class="toast">
        <span class="toast-message"></span>
      </div>
    </template>

    <script type="importmap">
      {
        "imports": {
          "three": "https://cdn.jsdelivr.net/npm/three@0.165.0/build/three.module.js"
        }
      }
    </script>
    <script type="module" src="./scripts/main.js"></script>
  </body>
</html>

